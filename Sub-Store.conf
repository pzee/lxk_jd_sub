#!name=Sub-Store
#!desc=æ”¯æŒ Surge æ­£å¼ç‰ˆçš„å‚æ•°è®¾ç½®åŠŸèƒ½. æµ‹è½åœ°åŠŸèƒ½ ability: http-client-policy, åŒæ­¥é…ç½®çš„å®šæ—¶ cronexp: 55 23 * * *
#!category=è®¢é˜…ç®¡ç†
#!arguments=ability:http-client-policy,cronexp:55 23 * * *,sync:"Sub-Store Sync",timeout:120,engine:auto,produce:"# Sub-Store Produce",produce_cronexp:50 */6 * * *,produce_sub:"sub1,sub2",produce_col:"col1,col2"
#!arguments-desc=\n1ï¸âƒ£ abilityé»˜è®¤å·²å¼€å¯æµ‹è½åœ°èƒ½åŠ›,éœ€è¦é…åˆè„šæœ¬æ“ä½œ,å¦‚ https://raw.githubusercontent.com/Keywos/rule/main/cname.js å¡«å†™ä»»æ„å…¶ä»–å€¼å…³é—­ \n2ï¸âƒ£ cronexp\nåŒæ­¥é…ç½®å®šæ—¶ä»»åŠ¡:é»˜è®¤ä¸ºæ¯å¤© 23 ç‚¹ 55 åˆ†,å®šæ—¶ä»»åŠ¡æŒ‡å®šæ—¶å°†è®¢é˜…/æ–‡ä»¶ä¸Šä¼ åˆ°ç§æœ‰ Gist. åœ¨å‰ç«¯, å«åš 'åŒæ­¥' æˆ– 'åŒæ­¥é…ç½®'\n3ï¸âƒ£ sync\nè‡ªå®šä¹‰å®šæ—¶ä»»åŠ¡å,ä¾¿äºåœ¨è„šæœ¬ç¼–è¾‘å™¨ä¸­é€‰æ‹©,è‹¥è®¾ä¸º # å¯å–æ¶ˆå®šæ—¶ä»»åŠ¡\n4ï¸âƒ£ timeout\nè„šæœ¬è¶…æ—¶, å•ä½ä¸ºç§’\n5ï¸âƒ£ engine\né»˜è®¤ä¸ºè‡ªåŠ¨ä½¿ç”¨ webview å¼•æ“, å¯è®¾ä¸ºæŒ‡å®š jsc, ä½† jsc å®¹æ˜“çˆ†å†…å­˜\n6ï¸âƒ£ produce\nè‡ªå®šä¹‰å¤„ç†è®¢é˜…çš„å®šæ—¶ä»»åŠ¡å,ä¸€èˆ¬ç”¨äºå®šæ—¶å¤„ç†è€—æ—¶è¾ƒé•¿çš„è®¢é˜…, ä»¥æ›´æ–°ç¼“å­˜,è¿™æ · Surge ä¸­æ‹‰å–çš„æ—¶å€™å°±èƒ½ç”¨åˆ°ç¼“å­˜, ä¸è‡³äºæ€»æ˜¯è¶…æ—¶\nè‹¥è®¾ä¸º # å¯å–æ¶ˆæ­¤å®šæ—¶ä»»åŠ¡,é»˜è®¤ä¸å¼€å¯\n7ï¸âƒ£ produce_cronexp\né…ç½®å¤„ç†è®¢é˜…çš„å®šæ—¶ä»»åŠ¡,é»˜è®¤ä¸ºæ¯ 6 å°æ—¶\n9ï¸âƒ£ produce_sub\nè‡ªå®šä¹‰éœ€å®šæ—¶å¤„ç†çš„å•æ¡è®¢é˜…å\nå¤šä¸ªç”¨ , è¿æ¥\nğŸ”Ÿ produce_col\nè‡ªå®šä¹‰éœ€å®šæ—¶å¤„ç†çš„ç»„åˆè®¢é˜…å,å¤šä¸ªç”¨ , è¿æ¥âš ï¸ æ³¨æ„: æ˜¯ åç§°(name) ä¸æ˜¯ æ˜¾ç¤ºåç§°(displayName)\nå¦‚æœåç§°éœ€è¦ç¼–ç , è¯·ç¼–ç åå†ç”¨ , è¿æ¥\né¡ºåº: å¹¶å‘æ‰§è¡Œå•æ¡è®¢é˜…, ç„¶åå¹¶å‘æ‰§è¡Œç»„åˆè®¢é˜…

[MITM]
hostname = %APPEND% sub.store

[Script]
Sub-Store Core=type=http-request,pattern=^https?:\/\/sub\.store\/((download)|api\/(preview|sync|(utils\/node-info))),script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store-1.min.js,requires-body=true,timeout={{{timeout}}},ability="{{{ability}}}",engine={{{engine}}}

Sub-Store Simple=type=http-request,pattern=^https?:\/\/sub\.store,script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store-0.min.js,requires-body=true,timeout={{{timeout}}},engine={{{engine}}}

{{{sync}}}=type=cron,cronexp="{{{cronexp}}}",wake-system=1,timeout={{{timeout}}},script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/cron-sync-artifacts.min.js,engine={{{engine}}}

{{{produce}}}=type=cron,cronexp="{{{produce_cronexp}}}",wake-system=1,timeout={{{timeout}}},script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/cron-sync-artifacts.min.js,engine={{{engine}}},argument="sub={{{produce_sub}}}&col={{{produce_col}}}"